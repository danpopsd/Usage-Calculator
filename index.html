<style>
  body {
    font-family: 'Helvetica', 'Arial', sans-serif;
    color: #000;
    background-color: #fff;
    padding: 20px;
  }
  h1 {
    font-family: 'Helvetica', sans-serif;
    font-size: 24px;
    margin-bottom: 20px;
  }
  label {
    display: block;
    margin-top: 20px;
    font-weight: bold;
  }
  input, select, textarea, button {
    width: 100%;
    padding: 10px;
    margin-top: 8px;
    font-size: 16px;
    border-radius: 6px;
    border: 1px solid #ccc;
    box-sizing: border-box;
    background-color: #f9f9f9;
  }
  input[type="checkbox"] {
    width: auto;
    margin-left: 5px;
    margin-right: 10px;
    vertical-align: middle;
  }
  .checkbox-group label {
    display: inline-flex;
    align-items: center;
    margin-top: 6px;
    font-family: 'Fira Code', monospace;
    font-size: 16px;
    margin-right: 15px;
  }
  button {
    background-color: #000;
    color: #fff;
    margin-top: 20px;
    border: none;
    cursor: pointer;
  }
  .result {
    margin-top: 20px;
    padding: 20px;
    background-color: #f1f1f1;
    font-weight: bold;
    border-radius: 10px;
  }
  .copied {
    margin-top: 10px;
    color: green;
    font-size: 14px;
  }
  .modal-content {
    background-color: #f9f9f9;
    padding: 20px;
    border-radius: 6px;
    width: 80%;
    margin: 0 auto;
    max-width: 800px;
  }
  .modal-content label {
    font-size: 16px;
    font-family: 'Fira Code', monospace;
  }
  .modal-content input,
  .modal-content select {
    margin-bottom: 10px;
  }
  .modal-content button {
    background-color: #000;
    color: white;
    padding: 10px;
    margin-top: 20px;
  }
  .modal-content h3 {
    margin-bottom: 10px;
  }
  .modal-content textarea {
    width: 100%;
  }
  .modal-content select,
  .modal-content input[type="text"] {
    width: calc(100% - 22px);
    padding: 10px;
  }
  .modal-content .input-group {
    margin-top: 10px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
  .modal-content .input-group > div {
    flex: 1;
  }
  @media (max-width: 768px) {
    .modal-content {
      width: 95%;
    }
    .modal-content .input-group > div {
      flex: none;
      width: 100%;
    }
  }
</style>

<h1>Usage / Licensing Calculator</h1>

<label for="creativeFee">Creative Fee ($):</label>
<input type="number" id="creativeFee" placeholder="Enter your creative/shoot fee" />

<label for="experience">Experience Level:</label>
<select id="experience">
  <option value="1">Entry (1x)</option>
  <option value="1.25">Mid-Level (1.25x)</option>
  <option value="1.5">Experienced (1.5x)</option>
  <option value="2">Top-Tier (2x)</option>
</select>

<label for="term">Usage Term Duration:</label>
<select id="term">
  <option value="0.5">3 Months</option>
  <option value="0.75">6 Months</option>
  <option value="1">1 Year</option>
  <option value="1.5">2 Years</option>
  <option value="2.5">Perpetual</option>
</select>

<label>Distribution Format:</label>
<div class="checkbox-group">
  <label><input type="checkbox" value="web"> Web (Organic Only)</label>
  <label><input type="checkbox" value="0.4"> Social Media</label>
  <label><input type="checkbox" value="0.7"> Digital Ads</label>
  <label><input type="checkbox" value="0.8"> Print</label>
  <label><input type="checkbox" value="1.2"> Billboard</label>
  <label><input type="checkbox" value="1.8"> TV / Streaming</label>
</div>

<label for="geo">Geographic Scope:</label>
<select id="geo">
  <option value="0">Local</option>
  <option value="0.25">Regional</option>
  <option value="0.6">National</option>
  <option value="1.2">International</option>
</select>

<label for="exclusivity">Exclusivity:</label>
<select id="exclusivity">
  <option value="0">None</option>
  <option value="0.6">Industry Exclusive</option>
  <option value="1.2">Full Exclusive</option>
</select>

<button onclick="calculateFee()">Calculate Licensing Fee</button>

<div class="result" id="result"></div>
<button onclick="openInvoiceWindow()">Generate Invoice</button>
<div class="copied" id="copiedMessage" style="display:none;">Copied to clipboard!</div>

<script>
  let lastCalculation = '';

  function calculateFee() {
    const creativeFee = parseFloat(document.getElementById('creativeFee').value);
    const experience = parseFloat(document.getElementById('experience').value);
    const term = parseFloat(document.getElementById('term').value);
    const geo = parseFloat(document.getElementById('geo').value);
    const exclusivity = parseFloat(document.getElementById('exclusivity').value);

    let media = 0;
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(cb => {
      if (cb.checked) {
        if (cb.value === "web" && term <= 0.75) {
          media += 0; // Free web use if term is 6 months or less
        } else if (cb.value === "web") {
          media += 0.2;
        } else {
          media += parseFloat(cb.value);
        }
      }
    });

    const multiplier = (term + media + geo + exclusivity) * experience;
    const licensingFee = creativeFee * multiplier;
    const totalFee = creativeFee + licensingFee;

    lastCalculation =
      `Creative Fee: $${creativeFee.toFixed(2)}\n` +
      `Licensing Fee: $${licensingFee.toFixed(2)}\n` +
      `Total: $${totalFee.toFixed(2)}`;

    document.getElementById('result').innerText = lastCalculation;
    document.getElementById('copiedMessage').style.display = 'none';
  }

  function openInvoiceWindow() {
    const modalContent = `
      <div class="modal-content">
        <h3>Generate Invoice</h3>
        <label for="invoiceType">Invoice Type:</label>
        <select id="invoiceType">
          <option value="invoice">Invoice</option>
          <option value="estimate">Estimate</option>
        </select>
        <label for="date">Date:</label>
        <input type="date" id="date">
        <div class="input-group">
          <div>
            <label>Your Name:</label>
            <input type="text" id="yourName">
          </div>
          <div>
            <label>Phone:</label>
            <input type="text" id="phone">
          </div>
        </div>
        <div class="input-group">
          <div>
            <label>Email:</label>
            <input type="email" id="email">
          </div>
          <div>
            <label>Address:</label>
            <input type="text" id="address">
          </div>
        </div>
        <div class="input-group">
          <div>
            <label>Company Name:</label>
            <input type="text" id="companyName">
          </div>
          <div>
            <label>Client Phone:</label>
            <input type="text" id="clientPhone">
          </div>
        </div>
        <div class="input-group">
          <div>
            <label>Client Email:</label>
            <input type="email" id="clientEmail">
          </div>
          <div>
            <label>Client Address:</label>
            <input type="text" id="clientAddress">
          </div>
        </div>
        <button onclick="generateInvoice()">Generate</button>
      </div>
    `;
    const modal = document.createElement('div');
    modal.classList.add('modal');
    modal.innerHTML = modalContent;
    document.body.appendChild(modal);
  }

  function generateInvoice() {
    const invoiceType = document.getElementById('invoiceType').value;
    const date = document.getElementById('date').value;
    const yourName = document.getElementById('yourName').value;
    const phone = document.getElementById('phone').value;
    const email = document.getElementById('email').value;
    const address = document.getElementById('address').value;
    const companyName = document.getElementById('companyName').value;
    const clientPhone = document.getElementById('clientPhone').value;
    const clientEmail = document.getElementById('clientEmail').value;
    const clientAddress = document.getElementById('clientAddress').value;

    const invoiceData = {
      invoiceType,
      date,
      yourName,
      phone,
      email,
      address,
      companyName,
      clientPhone,
      clientEmail,
      clientAddress
    };

    // Create invoice PDF (simplified example)
    console.log("Generating Invoice with data:", invoiceData);
  }
</script>
